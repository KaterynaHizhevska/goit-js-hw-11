{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46278003-3664944736e49f9bfa5b8ba34';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(params) {\n  const urlParams = new URLSearchParams(params);\n  return fetch(`${BASE_URL}?key=${API_KEY}&${urlParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Something went wrong');\n      }\n      return response.json();\n    })\n    .catch(error => {\n      throw new Error(error.message);\n    });\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderGallery(data, galleryElement) {\n  const { hits } = data;\n  const formatting = hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n              <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                  <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n              </a>\n              <div class=\"info\">\n                  <p class=\"info-item\"><span>Likes</span> ${likes}</p>\n                  <p class=\"info-item\"><span>Views</span> ${views}</p>\n                  <p class=\"info-item\"><span>Comments</span> ${comments}</p>\n                  <p class=\"info-item\"><span>Downloads</span> ${downloads}</p>\n              </div>\n          </li>`\n    )\n    .join('');\n\n  galleryElement.innerHTML = formatting;\n\n}\n\n\n  \nexport function showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}","import './css/styles.css';\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery, showError } from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.input');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nfunction disableLoader() {\n  loader.classList.remove('active');\n  loader.classList.add('hidden');\n}\n\nfunction activateLoader() {\n  loader.classList.remove('hidden');\n  loader.classList.add('active');\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  \n  const search = input.value.trim();\n  if (search === '') {\n    showError('Sorry, there are no images matching your search query. Please try again!');\n    return;\n  }\n  \n  const params = {\n    q: search,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  gallery.innerHTML = '';\n    activateLoader();\n    \n    fetchImages(params)\n    .then(data => {\n      disableLoader();\n      if (data.hits.length === 0) {\n        showError(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      }\n\n      renderGallery(data, gallery);\n\n        const lightbox = new SimpleLightbox('.gallery a');\n      lightbox.refresh();\n\n        form.reset();\n\n    })\n  .catch(error => {\n      disableLoader();\n      // showError('Something went wrong. Please try again later.');\n    });\n\n\n});\n\n\n\n"],"names":["API_KEY","BASE_URL","fetchImages","params","urlParams","response","error","renderGallery","data","galleryElement","hits","formatting","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showError","message","iziToast","form","input","loader","gallery","disableLoader","activateLoader","event","search"],"mappings":"svBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAQ,CAClC,MAAMC,EAAY,IAAI,gBAAgBD,CAAM,EAC5C,OAAO,MAAM,GAAGF,CAAQ,QAAQD,CAAO,IAAII,CAAS,EAAE,EACnD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,sBAAsB,EAExC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,MAAM,IAAI,MAAMA,EAAM,OAAO,CACnC,CAAK,CACL,CCTO,SAASC,EAAcC,EAAMC,EAAgB,CAClD,KAAM,CAAE,KAAAC,CAAM,EAAGF,EACXG,EAAaD,EAChB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,yBACaL,CAAa;AAAA,8BACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,4DAGIC,CAAK;AAAA,4DACLC,CAAK;AAAA,+DACFC,CAAQ;AAAA,gEACPC,CAAS;AAAA;AAAA,gBAGpE,EACA,KAAK,EAAE,EAEVT,EAAe,UAAYE,CAE7B,CAIO,SAASQ,EAAUC,EAAS,CACjCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,CACb,CAAG,CACH,CCtCA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,GAAgB,CACvBF,EAAO,UAAU,OAAO,QAAQ,EAChCA,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEA,SAASG,GAAiB,CACxBH,EAAO,UAAU,OAAO,QAAQ,EAChCA,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEAF,EAAK,iBAAiB,SAAUM,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAASN,EAAM,MAAM,KAAI,EAC/B,GAAIM,IAAW,GAAI,CACjBV,EAAU,0EAA0E,EACpF,MACD,CAED,MAAMhB,EAAS,CACb,EAAG0B,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEEJ,EAAQ,UAAY,GAClBE,IAEAzB,EAAYC,CAAM,EACjB,KAAKK,GAAQ,CAEZ,GADAkB,IACIlB,EAAK,KAAK,SAAW,EAAG,CAC1BW,EACE,0EACV,EACQ,MACD,CAEDZ,EAAcC,EAAMiB,CAAO,EAER,IAAI,eAAe,YAAY,EACzC,QAAO,EAEdH,EAAK,MAAK,CAElB,CAAK,EACF,MAAMhB,GAAS,CACZoB,GAEN,CAAK,CAGL,CAAC"}